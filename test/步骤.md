### 步骤1
获取数据集
要求：1、数据集 同一人、衣服  三个方向的照片
形如
img/MEN/Jackets_Vests/id_00000084/04_1_front.jpg,img/MEN/Jackets_Vests/id_00000084/04_4_full.jpg,img/MEN/Jackets_Vests/id_00000084/04_7_additional.jpg
2、pose文件。可使用openpose生成json，转换为模型所需文件（已完成，不用担心，提供数据集即可）
3、train.lst和train_pairs.txt文件

数据集准备好后使用下面的命令将数据转换一下Run the following code to save images to lmdb dataset.
  ```python
python data/prepare_data.py --root ./dataset/deepfashion --out ./dataset/deepfashion
pyton
  ```

### 步骤2
选定微调的layer，选择一个效果较好的layer用于微调
可训练的layer在文件‘可微调layer’
可调参数：1、微调的layer
2、epoch数量
3、batch_size（不太能改，目前我设置的都是1或2，多了可能爆显存）

### 步骤3
训练完毕，使用predict_lora 预测生成照片（如何批判生成的效果，没有考虑）


#### 难点1：
安装环境（没办法）
#### 难点2：
构建数据集（有一个人搞定了其他人都能用）
#### 难点3：
选定一个layer微调，并理解微调的数学原理（老师肯定会问，我还没研究过，只是调包）
#### 难点4：
多次跑代码，生成效果好的模型（费时，而且没有效果批判的方法）


### 代码和文件：
1、数据集（纯跑通代码用）
2、ckpt预训练模型
3、我修改后的代码

1、2我会放在网盘里，3可在github上找到
另外我会把相关论文、资料整理上去

openpose相关的资料todo..
https://github.com/CMU-Perceptual-Computing-Lab/openpose/releases/tag/v1.7.0
下载openpose-1.7.0-binaries-win64-gpu-python3.7-flir-3d_recommended.zip
1、进入openpose目录
bin\OpenPoseDemo.exe --image_dir 源文件夹   --write_json 目标文件夹
bin\OpenPoseDemo.exe --image_dir E:\Documents\PythonScripts\openpose\openpose\test\in   --write_json E:\Documents\PythonScripts\openpose\openpose\test\json
json转换方法：trans_json.py 